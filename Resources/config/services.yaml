services:

  Palmyr\SymfonyAws\Factory\SdkFactoryInterface:
    class: Palmyr\SymfonyAws\Factory\SdkFactory

  Aws\Sdk:
    class: Aws\Sdk
    arguments:
      - '%palmyr.aws.sdk.options%'
    factory:
      - '@Palmyr\SymfonyAws\Factory\SdkFactoryInterface'
      - 'build'

  Aws\Sts\StsClient:
    class: Aws\Sts\StsClient
    factory:
      - '@Aws\Sdk'

